<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>ì²­ê°œêµ¬ë¦¬ ì‚¬ì „ì ê²€ AIì•± v18.5S</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;800;900&family=Outfit:wght@600;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root{
  --p:#0A6B5C;--pl:#12B89A;--pg:rgba(18,184,154,.12);
  --ac:#FF6B35;--bg:#F4F6F9;--card:#FFF;
  --tx:#1A2332;--ts:#5A6B7F;--th:#94A3B8;
  --bd:#E8ECF1;--bl:#F1F4F8;
  --dn:#E74C3C;--dnb:#FFF5F5;--wr:#F39C12;--wrb:#FFFBE6;
  --pu:#7C3AED;--pub:#F5F0FF;
  --r:14px;--tr:all .2s ease;
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Noto Sans KR',sans-serif;background:var(--bg);color:var(--tx);line-height:1.6;-webkit-font-smoothing:antialiased;display:flex;justify-content:center;min-height:100vh}
.app{width:100%;max-width:480px;min-height:100vh;background:#FAFBFC;position:relative;padding-bottom:90px}

/* Header */
.hd{background:linear-gradient(135deg,#1A0A3E 0%,#5B21B6 35%,#7C3AED 70%,#5B21B6 100%)
.hd::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle at 30% 40%,rgba(18,184,154,.25) 0%,transparent 50%),radial-gradient(circle at 70% 60%,rgba(255,107,53,.1) 0%,transparent 40%)
@keyframes hdBg{0%{transform:translate(0,0)}100%{transform:translate(-3%,3%)}}
.hd::after{content:'';position:absolute;bottom:-2px;left:0;right:0;height:14px;background:#FAFBFC;border-radius:14px 14px 0 0}
.hd-top{display:flex;align-items:center;justify-content:space-between;padding:12px 14px 18px;position:relative;z-index:2}
.hd-in{display:flex;align-items:center;gap:10px}
.hd-logo{width:42px;height:42px;border-radius:11px;background:rgba(255,255,255,.95);display:flex;align-items:center;justify-content:center;box-shadow:0 3px 12px rgba(0,0,0,.15);flex-shrink:0;overflow:hidden;backdrop-filter:blur(10px)}
.hd-logo img{width:100%;height:100%;object-fit:cover}
.hd-title{color:#fff;font-family:'Outfit',sans-serif;font-size:1.05rem;font-weight:800;letter-spacing:-.02em;text-shadow:0 1px 8px rgba(0,0,0,.15)}
.hd-tags{display:flex;gap:5px;flex-shrink:0}
.tag{font-size:.6rem;padding:2px 7px;border-radius:5px;font-weight:700}
.tag-free{background:var(--ac);color:#fff}
.tag-v{background:rgba(255,255,255,.12);color:rgba(255,255,255,.85);border:1px solid rgba(255,255,255,.15);cursor:pointer;backdrop-filter:blur(6px)}
.tag-v.dev{background:var(--pu);box-shadow:0 0 10px rgba(124,58,237,.5)}
.mode-bar-out{display:flex;gap:6px;padding:6px 8px;background:var(--card);border-bottom:1px solid var(--bl)}
.mode-ck{display:flex;align-items:center;gap:7px;padding:8px 14px;border-radius:10px;cursor:pointer;transition:var(--tr);border:1.5px solid var(--bd);background:var(--bg);flex:1;justify-content:center}
.mode-ck:hover{border-color:var(--pl)}
.mode-ck.active{background:var(--pg);border-color:var(--pl);box-shadow:0 0 8px rgba(18,184,154,.1)}
.mode-ck.active-pro{background:var(--pub);border-color:var(--pu);box-shadow:0 0 8px rgba(124,58,237,.1)}
.mode-ck input[type="checkbox"]{width:16px;height:16px;accent-color:var(--p);cursor:pointer;flex-shrink:0}
.mode-ck .mc-lb{font-size:.78rem;font-weight:700;color:var(--ts)}
.mode-ck .mc-ic{font-size:.72rem;color:var(--th);margin-right:2px}
.mode-ck.active .mc-lb{color:var(--p)}
.mode-ck.active .mc-ic{color:var(--p)}
.mode-ck.active-pro .mc-lb{color:var(--pu)}
.mode-ck.active-pro .mc-ic{color:var(--pu)}

.st{display:flex;align-items:center;justify-content:space-between;padding:8px 10px}
.st-chip{display:flex;align-items:center;gap:7px;background:var(--card);padding:7px 12px;border-radius:30px;font-size:.75rem;font-weight:600;color:var(--ts);box-shadow:0 1px 3px rgba(0,0,0,.04);border:1px solid var(--bl)}
.st-dot{width:7px;height:7px;border-radius:50%;background:var(--pl);animation:pulse 2s infinite}
.st-dot.err{background:var(--dn);animation:none}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}
.st-help{display:flex;align-items:center;gap:5px;background:var(--card);border:1px solid var(--bd);padding:7px 12px;border-radius:30px;font-size:.75rem;font-weight:700;color:var(--ts);cursor:pointer}

.steps{display:flex;align-items:center;justify-content:center;gap:0;padding:4px 10px 6px}
.sn{width:28px;height:28px;border-radius:50%;font-size:.72rem;font-weight:800;display:flex;align-items:center;justify-content:center;background:var(--bl);color:var(--th);transition:var(--tr);flex-shrink:0}
.sn.on{background:var(--p);color:#fff;box-shadow:0 0 0 3px var(--pg)}
.sn.ok{background:var(--pl);color:#fff}
.sl{height:2px;width:32px;background:var(--bl);transition:var(--tr)}
.sl.ok{background:var(--pl)}

.sec{background:var(--card);margin:0 6px 6px;border-radius:16px;padding:14px;box-shadow:0 2px 8px rgba(0,0,0,.05);border:1px solid var(--bl)}
.sec-t{font-size:.8rem;font-weight:800;color:var(--ts);margin-bottom:10px;display:flex;align-items:center;gap:7px}
.sec-t .n{background:var(--p);color:#fff;width:20px;height:20px;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:.68rem;font-weight:900}

.ig{margin-bottom:9px}
.ig:last-child{margin-bottom:0}
.il{font-size:.72rem;font-weight:700;color:var(--th);margin-bottom:5px;display:flex;align-items:center;gap:4px}
.if{width:100%;padding:9px 11px;font-size:.85rem;border:1.5px solid var(--bd);border-radius:10px;background:#FAFBFC;color:var(--tx);font-family:inherit;transition:var(--tr);outline:none}
.if:focus{border-color:var(--pl);background:#fff;box-shadow:0 0 0 3px var(--pg)}
.if::placeholder{color:var(--th)}
select.if{cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%2394A3B8' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 11px center;padding-right:30px}
textarea.if{resize:none;height:85px;line-height:1.6}
.row{display:flex;gap:9px}
.row>*{flex:1}

/* ===== Custom Room Selector: 2-Column Grid ===== */
.cd-wrap{width:100%}
.cd-btn{width:100%;padding:9px 11px;font-size:.85rem;border:1.5px solid var(--bd);border-radius:10px;background:#FAFBFC;color:var(--tx);font-family:inherit;transition:var(--tr);outline:none;cursor:pointer;text-align:left;display:flex;align-items:center;justify-content:space-between}
.cd-btn:focus,.cd-btn.open{border-color:var(--pl);background:#fff;box-shadow:0 0 0 3px var(--pg)}
.cd-btn .cd-arrow{font-size:.6rem;color:var(--th);transition:transform .2s}
.cd-btn.open .cd-arrow{transform:rotate(180deg)}
.cd-btn .cd-placeholder{color:var(--th)}
.cd-grid{display:none;grid-template-columns:1fr 1fr;gap:6px;margin-top:8px;animation:cdOpen .2s ease-out}
.cd-grid.show{display:grid}
@keyframes cdOpen{from{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}
.cd-item{display:flex;align-items:center;gap:6px;padding:9px 10px;border:1.5px solid var(--bd);border-radius:10px;background:#FAFBFC;cursor:pointer;transition:all .15s;user-select:none;-webkit-tap-highlight-color:transparent}
.cd-item:active{transform:scale(.97)}
.cd-item .cd-radio{width:18px;height:18px;border-radius:50%;border:2px solid var(--bd);display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .15s}
.cd-item .cd-radio::after{content:'';width:9px;height:9px;border-radius:50%;background:transparent;transition:all .15s}
.cd-item.selected{border-color:var(--pl);background:var(--pg)}
.cd-item.selected .cd-radio{border-color:var(--p)}
.cd-item.selected .cd-radio::after{background:var(--p)}
.cd-item.selected .cd-label{color:var(--p);font-weight:800}
.cd-item .cd-label{font-size:.88rem;font-weight:600;color:var(--ts)}
/* ===== End Custom Room Selector ===== */

.pg{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.pc{aspect-ratio:3/4;border-radius:var(--r);position:relative;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:7px;overflow:hidden;transition:var(--tr)}
.pc:active{transform:scale(.98)}
.pc.w{background:linear-gradient(180deg,#EBF5FF,#DBEAFE);border:2px dashed #93C5FD}
.pc.c{background:linear-gradient(180deg,#ECFDF5,#D1FAE5);border:2px dashed var(--pl)}
.pc .ic{font-size:1.8rem;opacity:.6}
.pc.w .ic{color:#3B82F6}.pc.c .ic{color:var(--pl)}
.pc .lb{font-size:.75rem;font-weight:700;text-align:center;line-height:1.3}
.pc.w .lb{color:#3B82F6}.pc.c .lb{color:var(--p)}
.pc .hn{font-size:.65rem;color:var(--th)}
.pp{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;display:none;z-index:10;background:#fff;border-radius:var(--r)}
.rb{position:absolute;bottom:7px;right:7px;background:rgba(0,0,0,.6);color:#fff;font-size:.68rem;font-weight:700;padding:3px 9px;border-radius:16px;z-index:15;display:none;backdrop-filter:blur(4px)}

.ai-b{display:inline-flex;align-items:center;gap:4px;background:linear-gradient(135deg,var(--p),var(--pl));color:#fff;padding:2px 9px;border-radius:5px;font-size:.68rem;font-weight:700}
.af{display:grid;grid-template-columns:1fr 1fr 1fr;gap:7px;margin-bottom:12px}
.af-l{font-size:.66rem;font-weight:700;color:var(--th);margin-bottom:3px}

.ag{background:var(--wrb);border:1px solid #FEEBC8;border-radius:10px;padding:10px 12px;margin-top:10px}
.ag-t{font-size:.75rem;font-weight:800;color:#C05621;margin-bottom:3px;display:flex;align-items:center;gap:5px}
.ag-tx{font-size:.66rem;color:var(--ts);line-height:1.5;margin-bottom:7px}
.ck{display:flex;align-items:center;gap:9px;cursor:pointer}
.ck input{width:18px;height:18px;accent-color:var(--p);cursor:pointer;flex-shrink:0}
.ck label{font-size:.8rem;font-weight:700;cursor:pointer}

.btn-sv{width:100%;padding:11px;margin-top:10px;border:none;border-radius:var(--r);font-size:.88rem;font-weight:800;cursor:pointer;transition:var(--tr);display:flex;align-items:center;justify-content:center;gap:7px;font-family:inherit}
.btn-sv.ok{background:var(--p);color:#fff;box-shadow:0 4px 14px rgba(10,107,92,.3)}
.btn-sv.ok:active{transform:translateY(2px);box-shadow:none}
.btn-sv.off{background:var(--bd);color:var(--th);cursor:not-allowed}

.ls{padding:0 6px;margin-top:8px}
.lh{display:flex;justify-content:space-between;align-items:center;background:var(--card);padding:14px;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,.05);border:1px solid var(--bl);margin-bottom:10px}
.lh-l{display:flex;align-items:center;gap:9px}
.lc{background:var(--p);color:#fff;width:26px;height:26px;border-radius:7px;display:flex;align-items:center;justify-content:center;font-size:.82rem;font-weight:900;font-family:'Outfit'}
.lh-t{font-size:.9rem;font-weight:800}
.lh-s{font-size:.75rem;color:var(--p);font-weight:600}

.dc{background:var(--card);border-radius:16px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,.05);border:1px solid var(--bl);margin-bottom:10px;animation:fi .3s ease-out}
@keyframes fi{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.dc-hd{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;background:var(--bg);border-bottom:1px solid var(--bl)}
.dc-tag{display:flex;align-items:center;gap:7px}
.dc-rm{font-size:.82rem;font-weight:800}
.dc-tp{font-size:.7rem;font-weight:700;color:var(--dn);background:var(--dnb);padding:2px 7px;border-radius:4px}
.dc-tp.safe{color:#059669;background:#ECFDF5}
.dc-act{display:flex;gap:5px}
.bi{width:30px;height:30px;border-radius:7px;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:.78rem;transition:var(--tr)}
.bi.ed{background:#FEF3C7;color:#D97706}
.bi.dl{background:#FEE2E2;color:#EF4444}
.bi:active{transform:scale(.9)}
.dc-ph{display:grid;grid-template-columns:1fr 1fr;gap:3px;background:var(--bl);padding:3px}
.dc-ph img{width:100%;aspect-ratio:4/3;object-fit:cover;background:#f9f9f9;border-radius:6px}
.dc-ph.single{grid-template-columns:1fr}
.dc-ph.single img{aspect-ratio:16/9;max-height:140px}
.dc-bd{padding:12px 14px}
.dc-wk{font-size:.75rem;font-weight:700;color:var(--p);margin-bottom:4px}
.dc-dt{font-size:.82rem;color:var(--ts);line-height:1.6;white-space:pre-wrap}

.ba{display:grid;grid-template-columns:1fr 1fr 1fr;gap:7px;padding:0 6px;margin-top:12px}
.ab{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:5px;padding:14px 6px;border:none;border-radius:var(--r);cursor:pointer;font-family:inherit;transition:var(--tr);text-decoration:none}
.ab:active{transform:scale(.96)}
.ab-ic{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1rem;color:#fff}
.ab-tx{font-size:.75rem;font-weight:700}
.ab.pdf{background:#ECFDF5}.ab.pdf .ab-ic{background:linear-gradient(135deg,#059669,#10B981)}.ab.pdf .ab-tx{color:#059669}
.ab.rv{background:var(--pub)}.ab.rv .ab-ic{background:linear-gradient(135deg,#7C3AED,#A78BFA)}.ab.rv .ab-tx{color:var(--pu)}
.ab.cs{background:#FFF7ED}.ab.cs .ab-ic{background:linear-gradient(135deg,var(--ac),#FF8F5E)}.ab.cs .ab-tx{color:var(--ac)}

.ft{text-align:center;padding:18px 10px;margin-top:24px;border-top:1px solid var(--bl)}
.ft-b{font-size:.8rem;font-weight:800;margin-bottom:3px}
.ft-i{font-size:.68rem;color:var(--th);line-height:1.5}

.mo{position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:9999;display:none;align-items:center;justify-content:center;backdrop-filter:blur(5px);padding:20px}
.mo.show{display:flex}
.mo-b{background:#fff;width:100%;max-width:390px;border-radius:22px;padding:24px 20px;box-shadow:0 8px 40px rgba(0,0,0,.1);animation:mp .3s cubic-bezier(.34,1.56,.64,1);max-height:85vh;overflow-y:auto}
@keyframes mp{from{transform:scale(.92);opacity:0}to{transform:scale(1);opacity:1}}
.mo-h{font-size:1.15rem;font-weight:900;text-align:center;margin-bottom:16px}
.mo-cls{display:block;text-align:center;margin-top:12px;background:none;border:none;color:var(--th);font-size:.82rem;cursor:pointer;text-decoration:underline;font-family:inherit}
.pr{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;background:var(--bg);border-radius:10px;margin-bottom:6px}
.pr-l{font-size:.85rem;font-weight:700;color:var(--ts)}
.pr-v{font-size:.9rem;font-weight:900;color:var(--pu)}
.nt{background:var(--wrb);border:1px solid #FEEBC8;border-radius:10px;padding:12px;font-size:.78rem;color:var(--ts);line-height:1.6;margin-bottom:14px}
.nt b{color:#C05621}
.btn-f{width:100%;padding:13px;border:none;border-radius:var(--r);background:linear-gradient(135deg,var(--pu),#A78BFA);color:#fff;font-size:.9rem;font-weight:800;cursor:pointer;font-family:inherit;display:flex;align-items:center;justify-content:center;gap:7px;box-shadow:0 4px 14px rgba(124,58,237,.3)}

.cf{position:fixed;bottom:18px;right:18px;width:52px;height:52px;border-radius:14px;background:linear-gradient(135deg,var(--p),var(--pl));color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.2rem;cursor:pointer;z-index:998;box-shadow:0 4px 18px rgba(10,107,92,.35);border:none}
.cw{position:fixed;bottom:80px;right:14px;width:300px;height:420px;background:#fff;border-radius:22px;box-shadow:0 8px 40px rgba(0,0,0,.1);z-index:999;display:none;flex-direction:column;overflow:hidden;border:1px solid var(--bd);animation:su .3s ease-out}
.cw.show{display:flex}
@keyframes su{from{transform:translateY(14px);opacity:0}to{transform:translateY(0);opacity:1}}
.cw-h{background:var(--p);color:#fff;padding:14px;display:flex;justify-content:space-between;align-items:center;font-weight:800;font-size:.85rem}
.cw-hc{cursor:pointer;font-size:1rem;opacity:.8;background:none;border:none;color:#fff}
.cw-bd{flex:1;padding:14px;overflow-y:auto;background:var(--bg);display:flex;flex-direction:column;gap:8px}
.bb{max-width:82%;padding:9px 12px;border-radius:12px;font-size:.82rem;line-height:1.5;box-shadow:0 1px 3px rgba(0,0,0,.04)}
.bb.bt{background:#fff;align-self:flex-start;border-top-left-radius:3px;border:1px solid var(--bl)}
.bb.us{background:var(--p);color:#fff;align-self:flex-end;border-top-right-radius:3px}
.cw-q{padding:10px;background:#fff;border-top:1px solid var(--bl);display:grid;grid-template-columns:1fr 1fr;gap:5px}
.qb{background:var(--bg);border:1px solid var(--bd);color:var(--tx);padding:7px;border-radius:10px;font-size:.78rem;font-weight:600;cursor:pointer;text-align:center;font-family:inherit}
.qb:active{background:var(--p);color:#fff;border-color:var(--p)}

.sg{display:flex;align-items:center;gap:5px;font-size:.68rem;color:var(--th);padding:2px 8px}
.sg i{color:var(--pl)}

@media print{
  .app{max-width:100%;box-shadow:none;padding-bottom:0}
  .hd,.st,.steps,.sec,.ba,.ft,.cf,.cw,.dc-act,.mode-bar,.mode-bar-out,.sg{display:none!important}
  .ls{padding:0;margin:0}
  .lh{border:none;box-shadow:none;margin-bottom:20px;border-bottom:2px solid #333;border-radius:0}
  .dc{break-inside:avoid;box-shadow:none;border:1px solid #ccc;margin-bottom:16px}
  #ptitle{display:block!important;text-align:center;font-size:22px;font-weight:900;margin:20px 0}
  #pdiscl{display:block!important;text-align:center;font-size:10px;color:#888;margin-top:20px;padding-top:10px;border-top:1px solid #ddd}
}
.hidden{display:none!important}
input[type="file"]{display:none}
</style>
</head>
<body>
<div class="app">
<div id="ptitle" style="display:none"></div>

<header class="hd">
  <div class="hd-top">
    <div class="hd-in">
      <div class="hd-logo"><img src="data:image/webp;base64,UklGRuoEAABXRUJQVlA4IN4EAAAQGACdASpcAFwAPp1GnUqlo6KhqBOcILATiWIAziUPZLoxe2U55n0O7wxvOX+UsDSkXxLWXn6nhNlInK/61xAaRTF56H+dT6t9hDpAMiUzKdmNt0OT+k+e4kIkk9UU4g3Ue6gXXsy4TUQPzqrWFheKPh/d466jvGXPk+Ztl5ezpdETvsJb0A0snIIEbrfGxboXEL0gZeragUw1nHBvY2mpikGFSA9Xe/ToXwSRJlydenBTiN9DMTHbuFrg8Gj+LHtPeHvl5ApU0AAA/vyoBbU35bQ5MnEeith5r842pJDgxLANyxkg3F0xnZf+xTvhRgOtBrHLEgG7Invfea7NizqMAWt0xvFzVtW7aRF9rj8Yksvu8+ox//wbed9EwT1b3HBcb++gbLVKgi8XP9uSn2cTCAVCVHsws2jo85P8r9hc4lKCTP5GLpUYiAGv3RG0s8M/iivVyM2I7IwKYfg8sQqPL747nz3Gl90uhFRJZMaPbsLkJd+qj7sc1/lWvyndtvToQz3+xwjw6WK5wPb32Uzq+c2v8Ete6s03zw9Xe9h9xamToaSx6dbL49Q5m0p1BWNSGQI1C+Fy+xfCzyROaGF9LvYdn9QGnmwWp5UJ/ACqhfosnIfweGYfq7csTuKFke3W5W6yvx4mlTsdwKvImknOZfJsf7zf0xFjwWfDCfXEP9F3P45AnBllQX+i1u2wyHL5vl1smRQQdkaWAekiPpx83EY8nQe/XmUJZJ9gRn6iM8OJXKiPoqnuNLOtldy1e0Sbznq3a0NTl6cw3XjzhhJMqyolFWZNEEJY2PGAOlpK1Wc+E051ISM97DAWktQP0XWX8vTGil5Iw+MHPESQPlPIa+TFhF/pFXilB3echpOAKpKdi9Jk+rzNuJ0YuwMUSk962g3r+xTOcZWrxSvjpFDAM/7IS8RkBonL/ZJULD/R1QC7khz4bX3h/ye+jy7vANsCeCFgK+iTza+w4nnHFkq7zx/6KynjF6/Y1HphryikePZlySa0B8cWZ+iF2Q1cncseX35Kf9sjX3D3Q88jaJ2kdqy1sY5KinmpOWMop44jLAWnP4L4eq63z50l6YYBhVGba4hDJ4MDp5dWtTGFqhlhmJy3AeUsyGf1wYrlr8ywj9mSxyRXBj58E5pKTUmhRTkhAXuFV9KzNv0JE5zsNAJcHSUuwK2+rXSCnb2yV/g1KnO1ekq96sB8Q7kFxSFV+dgJ82/4BExvK4BzXQ2bjrBSL2LR+6MhKcp8Dw5W7p5OtZgkaPOOQsC9MNkRDT+nOSijuWYMavNZ4lpNXJJbgTVJrG0NkZCE1Jsu3+t82GENYCES8LFoJJYxLF4C1B/4Nx9BoqmCkTZIYzdcFdDRhOK835Nr34brBvWcF+B68aGiWpgHssLYFP2D/Fi5VWf6gtvGifz2w6vgHVZvbcqvsgnRTwe1A908A7SzO+69hyoOoNZyrqf0SxjKNXEF7OvUmlrsHuHvmh4fdiLJlVjMtr02n52hgCkfrNkwxIRWU7gLvHrppQlz4ckL7wwvI5ZypkMBI6goeerC1Yzkeuanea2ks36mHOsLEBJ7OiKKSGR4EqryBw5yX0u/mYjW8/aH7dabhMmIfc6//CA5OGZjiy5F5GZTX1cGF6PpT73VJeobzvPtfV7TS5sgAAAAAAAA" alt="logo"></div>
      <div><div class="hd-title">ì²­ê°œêµ¬ë¦¬ ì‚¬ì „ì ê²€ AI</div></div>
    </div>
    <div class="hd-tags">
      <span class="tag" style="background:#3B82F6;color:#fff">spare</span>
      <span class="tag tag-free">ë¬´ë£Œ</span>
      <span class="tag tag-v" id="verTag" onclick="A.devTap()">v18.5S</span>
    </div>
  </div>
</header>

<div class="mode-bar-out">
  <label class="mode-ck active" id="mcFree">
    <input type="checkbox" id="ckFree" checked onchange="A.setMode('free')">
    <span class="mc-ic"><i class="fa-solid fa-user"></i></span>
    <span class="mc-lb">ì¼ë°˜ ì ê²€</span>
  </label>
  <label class="mode-ck" id="mcPro">
    <input type="checkbox" id="ckPro" onchange="A.setMode('pro')">
    <span class="mc-ic"><i class="fa-solid fa-user-tie"></i></span>
    <span class="mc-lb">ì „ë¬¸ê°€ ì ê²€</span>
  </label>
</div>

<div class="mo" id="moPwd">
<div class="mo-b" style="max-width:320px;text-align:center">
  <div style="font-size:2.5rem;margin-bottom:10px">ğŸ”’</div>
  <div class="mo-h" style="font-size:1rem;color:var(--p)">ì „ë¬¸ê°€ ì ê²€ ëª¨ë“œ</div>
  <p style="font-size:.78rem;color:var(--ts);margin-bottom:14px">ì§ì› ì „ìš© ê¸°ëŠ¥ì…ë‹ˆë‹¤.<br>ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
  <input type="password" class="if" id="pwdInput" placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥" style="text-align:center;font-size:1rem;letter-spacing:4px;font-weight:800;margin-bottom:10px" onkeydown="if(event.key==='Enter')A.checkPwd()">
  <div id="pwdErr" style="font-size:.72rem;color:var(--dn);margin-bottom:8px;display:none">ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.</div>
  <button class="btn-sv ok" style="margin-top:4px" onclick="A.checkPwd()"><i class="fa-solid fa-lock-open"></i> í™•ì¸</button>
  <button class="mo-cls" onclick="A.cancelPwd()">ì·¨ì†Œ</button>
</div>
</div>

<div class="st">
  <div class="st-chip"><div class="st-dot" id="sDot"></div><span id="sMsg">AI ëŒ€ê¸° ì¤‘</span></div>
  <button class="st-help" onclick="A.modal('help',1)"><i class="fa-solid fa-circle-question"></i> ë„ì›€ë§</button>
</div>

<div class="sg"><i class="fa-solid fa-database"></i> <span id="sgTx">ì €ì¥ëœ í•­ëª©: 0ê±´</span></div>

<div class="steps">
  <div class="sn on" id="s1">1</div><div class="sl" id="l1"></div>
  <div class="sn" id="s2">2</div><div class="sl" id="l2"></div>
  <div class="sn" id="s3">3</div><div class="sl" id="l3"></div>
  <div class="sn" id="s4">4</div>
</div>

<!-- SEC1 -->
<div class="sec">
  <div class="sec-t"><span class="n">1</span> í˜„ì¥ ì •ë³´</div>
  <div class="ig">
    <div class="il"><i class="fa-solid fa-map-pin"></i> ì „ì²´ ì£¼ì†Œ</div>
    <input type="text" class="if" id="fAddr" placeholder="ì„œìš¸ ì†¡íŒŒêµ¬ ì˜¬ë¦¼í”½ë¡œ 300">
  </div>
  <div class="row" style="margin-top:8px">
    <div class="ig"><div class="il">ì•„íŒŒíŠ¸ëª…</div><input type="text" class="if" id="fApt" placeholder="ì•„íŒŒíŠ¸ëª…"></div>
    <div class="ig" style="flex:.45"><div class="il">ë™</div><input type="tel" class="if" id="fDong" placeholder="000" style="text-align:center;font-weight:800"></div>
    <div class="ig" style="flex:.45"><div class="il">í˜¸</div><input type="tel" class="if" id="fHo" placeholder="0000" style="text-align:center;font-weight:800"></div>
  </div>
  <div class="ig" style="margin-top:8px">
    <div class="il"><i class="fa-solid fa-location-dot"></i> ì ê²€ ìœ„ì¹˜</div>
    <select class="if" id="fRoom" style="display:none">
      <option value="">ìœ„ì¹˜ ì„ íƒ</option>
      <option>ê±°ì‹¤</option><option>ì£¼ë°©</option><option>ì¹¨ì‹¤1</option><option>ì¹¨ì‹¤2</option><option>ì¹¨ì‹¤3</option>
      <option>ì•ˆë°©</option><option>ìš•ì‹¤1</option><option>ìš•ì‹¤2</option><option>í˜„ê´€</option><option>ë°œì½”ë‹ˆ1</option><option>ë°œì½”ë‹ˆ2</option><option>ëŒ€í”¼ê³µê°„</option><option>íŒ¬íŠ¸ë¦¬</option><option>ë‹¤ìš©ë„ì‹¤</option><option>ê¸°íƒ€</option>
    </select>
    <div class="cd-wrap" id="cdRoom">
      <button type="button" class="cd-btn" id="cdBtn" onclick="A.toggleRoom()">
        <span class="cd-placeholder" id="cdLabel">ìœ„ì¹˜ ì„ íƒ</span>
        <i class="fa-solid fa-chevron-down cd-arrow"></i>
      </button>
      <div class="cd-grid" id="cdGrid">
        <div class="cd-item" data-val="ê±°ì‹¤" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">ê±°ì‹¤</span></div>
        <div class="cd-item" data-val="ì£¼ë°©" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">ì£¼ë°©</span></div>
        <div class="cd-item" data-val="ì¹¨ì‹¤1" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">ì¹¨ì‹¤1</span></div>
        <div class="cd-item" data-val="ì¹¨ì‹¤2" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">ì¹¨ì‹¤2</span></div>
        <div class="cd-item" data-val="ì¹¨ì‹¤3" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">ì¹¨ì‹¤3</span></div>
        <div class="cd-item" data-val="ì•ˆë°©" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">ì•ˆë°©</span></div>
        <div class="cd-item" data-val="ìš•ì‹¤1" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">ìš•ì‹¤1</span></div>
        <div class="cd-item" data-val="ìš•ì‹¤2" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">ìš•ì‹¤2</span></div>
        <div class="cd-item" data-val="í˜„ê´€" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">í˜„ê´€</span></div>
        <div class="cd-item" data-val="ë°œì½”ë‹ˆ1" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">ë°œì½”ë‹ˆ1</span></div>
        <div class="cd-item" data-val="ë°œì½”ë‹ˆ2" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">ë°œì½”ë‹ˆ2</span></div>
        <div class="cd-item" data-val="ëŒ€í”¼ê³µê°„" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">ëŒ€í”¼ê³µê°„</span></div>
        <div class="cd-item" data-val="íŒ¬íŠ¸ë¦¬" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">íŒ¬íŠ¸ë¦¬</span></div>
        <div class="cd-item" data-val="ë‹¤ìš©ë„ì‹¤" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">ë‹¤ìš©ë„ì‹¤</span></div>
        <div class="cd-item" data-val="ê¸°íƒ€" onclick="A.pickRoom(this)"><span class="cd-radio"></span><span class="cd-label">ê¸°íƒ€</span></div>
      </div>
    </div>
  </div>
</div>

<!-- SEC2 -->
<div class="sec">
  <div class="sec-t"><span class="n">2</span> ì‚¬ì§„ ì´¬ì˜</div>
  <div class="pg">
    <input type="file" id="inW" accept="image/*">
    <label class="pc w" for="inW">
      <i class="fa-solid fa-image ic"></i>
      <div class="lb">ë©€ë¦¬ì„œ ì°ê¸°<br><span class="hn">ìœ„ì¹˜ íŒŒì•…ìš©</span></div>
      <img class="pp" id="pvW"><div class="rb" id="rtW">ë‹¤ì‹œì°ê¸°</div>
    </label>
    <input type="file" id="inC" accept="image/*">
    <label class="pc c" for="inC">
      <i class="fa-solid fa-crosshairs ic"></i>
      <div class="lb">ê°€ê¹Œì´ ì°ê¸°<br><span class="hn">AI ë¶„ì„ ì‹œì‘</span></div>
      <img class="pp" id="pvC"><div class="rb" id="rtC">ë‹¤ì‹œì°ê¸°</div>
    </label>
  </div>
</div>

<!-- SEC3 -->
<div class="sec">
  <div class="sec-t"><span class="n">3</span> í•˜ì ì •ë³´</div>
  <div class="ig">
    <div class="il"><i class="fa-solid fa-pen"></i> í•˜ì ë‚´ìš© (ì§ì ‘ ì…ë ¥)</div>
    <div style="position:relative">
      <input type="text" class="if" id="fUser" placeholder="ì˜ˆ) ì°½í˜¸ ìš°ì¸¡ ë‚´ë¶€ì°½ì§ ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰" style="padding-right:36px">
      <i class="fa-solid fa-wand-magic-sparkles" style="position:absolute;right:11px;top:50%;transform:translateY(-50%);color:var(--pl);font-size:.95rem"></i>
    </div>
  </div>
  <div class="af">
    <div class="ig"><div class="af-l">ê³µì¢…</div>
      <select class="if" id="fWork" style="font-size:.8rem;padding:9px" onchange="A.onWork()">
        <option value="">ìë™</option>
      </select>
    </div>
    <div class="ig"><div class="af-l">ì„¸ë¶€</div>
      <select class="if" id="fSub" style="font-size:.8rem;padding:9px" onchange="A.onSub()"><option value="">ìë™</option></select>
    </div>
    <div class="ig"><div class="af-l">ìœ í˜•</div>
      <select class="if" id="fType" style="font-size:.8rem;padding:9px">
        <option value="">ìë™</option>
      </select>
    </div>
  </div>
  <div class="ig">
    <div class="il">
      <span class="ai-b"><i class="fa-solid fa-robot"></i> AI ë¶„ì„</span>
      <span style="font-size:.68rem;color:var(--th);margin-left:4px">êµ­í† ë¶€ ê¸°ì¤€ ì°¸ì¡°</span>
    </div>
    <textarea class="if" id="fDetail" placeholder="ì‚¬ì§„ ì´¬ì˜ ì‹œ AIê°€ ìë™ ë¶„ì„í•©ë‹ˆë‹¤."></textarea>
  </div>
  <div class="ag">
    <div class="ag-t"><i class="fa-solid fa-shield-halved"></i> í•„ìˆ˜ í™•ì¸</div>
    <div class="ag-tx">1. <b>ë²•ì  íš¨ë ¥ ì—†ìŒ:</b> AI ì¶”ì •ì¹˜ì´ë©° ì „ë¬¸ê°€ ì‹¤ì‚¬ í•„ìš”<br>2. <b>ì±…ì„ ì œí•œ:</b> ë¶„ì„ ì˜¤ë¥˜ì— ëŒ€í•´ ê°œë°œì‚¬ ë²•ì  ì±…ì„ ì—†ìŒ</div>
    <div class="ck"><input type="checkbox" id="fAgree" onchange="A.togSave()"><label for="fAgree">ìœ„ ë‚´ìš©ì„ í™•ì¸í•˜ì˜€ìœ¼ë©° ë™ì˜í•©ë‹ˆë‹¤</label></div>
    <div id="agreeNote" style="font-size:.62rem;color:#059669;margin-top:4px;display:none"><i class="fa-solid fa-circle-check"></i> ë™ì˜ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤ (ìµœì´ˆ 1íšŒ)</div>
  </div>
  <button class="btn-sv off" id="btnSv" onclick="A.save()" disabled><i class="fa-solid fa-check-circle"></i> ë¦¬ìŠ¤íŠ¸ì— ì €ì¥</button>
</div>

<!-- SEC4 -->
<div class="ls">
  <div class="lh">
    <div class="lh-l">
      <div class="lc" id="lCnt">0</div>
      <div><div class="lh-t">ì ê²€ ë¦¬ìŠ¤íŠ¸</div><div class="lh-s" id="lInfo">ì •ë³´ ì…ë ¥ ëŒ€ê¸°</div></div>
    </div>
    <div style="display:flex;align-items:center;gap:6px">
      <span id="lMode" style="font-size:.68rem;font-weight:800;padding:3px 8px;border-radius:6px;background:var(--pg);color:var(--p);display:none">ì¼ë°˜ì ê²€</span>
      <button style="background:none;border:1px solid var(--bd);border-radius:8px;padding:6px 10px;font-size:.7rem;font-weight:700;cursor:pointer;color:var(--ts);font-family:inherit" onclick="A.clearAll()"><i class="fa-solid fa-trash"></i> ì „ì²´ì‚­ì œ</button>
    </div>
  </div>
  <div id="lBox"></div>
</div>

<div class="ba">
  <button class="ab pdf" onclick="A.pdf()"><div class="ab-ic"><i class="fa-solid fa-file-pdf"></i></div><span class="ab-tx">ì „ì²´ ì €ì¥</span></button>
  <button class="ab rv" onclick="A.modal('paid',1)"><div class="ab-ic"><i class="fa-solid fa-calendar-check"></i></div><span class="ab-tx">ìœ ë£Œ ì˜ˆì•½</span></button>
  <button class="ab cs" onclick="A.chat()"><div class="ab-ic"><i class="fa-solid fa-comments"></i></div><span class="ab-tx">AI ìƒë‹´</span></button>
</div>

<div id="pdiscl" style="display:none">â€» ë³¸ ë¦¬í¬íŠ¸ëŠ” ì…ì£¼ì ì‚¬ì „ì ê²€ ë³´ì¡° ìë£Œì´ë©° ë²•ì  íš¨ë ¥ì´ ì—†ìŠµë‹ˆë‹¤. (ì œê³µ: ì²­ê°œêµ¬ë¦¬ìƒ¤ì‹œ)</div>

<div class="ft">
  <div class="ft-b">ì²­ê°œêµ¬ë¦¬ìƒ¤ì‹œ</div>
  <div class="ft-i">ëŒ€í‘œ: ì „ì˜ì›… | ì‚¬ì—…ì: 123-36-31426 | ğŸ“ 010-2322-0949<br>ë³¸ ì„œë¹„ìŠ¤ëŠ” ì°¸ê³ ìš© ë³´ì¡° ë„êµ¬ì´ë©° ë²•ì  ì±…ì„ì„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>â“’ 2026 Cheong-gaeguri Corp.</div>
</div>
</div>

<!-- MODAL: PAID -->
<div class="mo" id="moPaid">
<div class="mo-b">
  <div class="mo-h" style="color:var(--pu)">ğŸ¸ ìœ ë£Œ ì‚¬ì „ì ê²€ ì•ˆë‚´</div>
  <p style="font-size:.82rem;color:var(--ts);margin-bottom:14px;line-height:1.6">ì²­ê°œêµ¬ë¦¬ëŠ” ë¶ˆí•„ìš”í•œ ì ê²€ì„ ìƒëµí•˜ê³  <b>ì¤‘ëŒ€í•˜ìë¥¼ ì¤‘ì </b>ìœ¼ë¡œ ê²€ì‚¬í•©ë‹ˆë‹¤.</p>
  <div class="pr"><span class="pr-l">29í‰ ì´í•˜</span><span class="pr-v">130,000ì›</span></div>
  <div class="pr"><span class="pr-l">30í‰ ì´ìƒ</span><span class="pr-v">150,000ì›</span></div>
  <div class="pr" style="margin-bottom:14px"><span class="pr-l">50í‰ ì´ìƒ</span><span class="pr-v">200,000ì›</span></div>
 <div class="nt"><b>ğŸ“‹ ì˜ˆì•½ ë° í™˜ë¶ˆ ê·œì •</b><br>1. <b>ì§í†µ(010-2322-0949)</b>ë¡œ ì£¼ì†Œ, ë°©ë¬¸ì¼, ë°©ë¬¸ì‹œê°„(í•„ìˆ˜) ë¬¸ìì „ì†¡ ë˜ëŠ” ìœ ë£Œì˜ˆì•½ ì‹ ì²­ì„œ ì‘ì„± â†’ ë°©ë¬¸í™•ì • í†µí™” í›„ ì…ê¸ˆ<br>2. ë°©ë¬¸ <b>7ì¼ ì „ ì·¨ì†Œ ì‹œ 100% í™˜ë¶ˆ</b><br>3. ê·¸ ì™¸ ê¸°ê°„ í™˜ë¶ˆ ë¶ˆê°€<br>4. ì˜ˆì•½ì„œ ì‘ì„± ì‹œ ìœ„ ë‚´ìš© ë™ì˜ ê°„ì£¼<br>5. <b>ì…ê¸ˆê³„ì¢Œ ( êµ­ë¯¼ì€í–‰ 090537-04-003309 ì²­ê°œêµ¬ë¦¬ìƒ¤ì‹œ )</b></div>
  <button class="btn-f" onclick="window.open('https://forms.gle/iF9t9gXCHkuMQj8W6','_blank')"><i class="fa-solid fa-pen-to-square"></i> ì˜ˆì•½ ì‹ ì²­ì„œ ì‘ì„±</button>
  <button class="mo-cls" onclick="A.modal('paid',0)">ë‹«ê¸°</button>
</div>
</div>

<!-- MODAL: HELP -->
<div class="mo" id="moHelp">
<div class="mo-b">
  <div class="mo-h">ğŸ¸ ì•± ì‚¬ìš©ë²•</div>
  <div style="font-size:.85rem;color:var(--ts);line-height:1.8;text-align:left">
    <b>â‘  í˜„ì¥ ì •ë³´</b> â€” ì£¼ì†Œ, ì•„íŒŒíŠ¸ëª…, ë™/í˜¸, ìœ„ì¹˜ ì…ë ¥<br>
    <b>â‘¡ ì‚¬ì§„ ì´¬ì˜</b> â€” ë©€ë¦¬ì„œ 1ì¥ + ê°€ê¹Œì´ 1ì¥<br>
    <b>â‘¢ í•˜ì ì…ë ¥</b> â€” ì§ì ‘ ì…ë ¥í•˜ë©´ AIê°€ ë” ì •í™• ë¶„ì„<br>
    <b>â‘£ AI ìë™ ë¶„ì„</b> â€” ê³µì¢…, ì„¸ë¶€, ìœ í˜•, ë¦¬í¬íŠ¸ ìƒì„±<br>
    <b>â‘¤ ë™ì˜ ì²´í¬ â†’ ë¦¬ìŠ¤íŠ¸ ì €ì¥</b> ë°˜ë³µ<br>
    <b>â‘¥ ì „ì²´ ì €ì¥</b> â†’ í° ë‚´íŒŒì¼ PDF ì €ì¥<br>
    <b>â‘¦ ì „ë¬¸ê°€ ì ê²€</b> â†’ ìœ ë£Œ ì‹ ì²­<br><br>
    ğŸ’¡ <b>ì¼ë°˜ ì ê²€</b>: ë¬´ë£Œ AI ë¶„ì„ìœ¼ë¡œ í•˜ì ì—¬ë¶€ íŒë³„<br>
    ğŸ’¡ <b>ì „ë¬¸ê°€ ì ê²€</b>: ì „ë¬¸ê°€ ìƒì„¸ ë¶„ì„ ëª¨ë“œ
  </div>
  <div class="ck" style="margin-top:14px;padding:10px;background:var(--bg);border-radius:10px">
    <input type="checkbox" id="hpCk" onchange="if(this.checked)A.modal('help',0)">
    <label for="hpCk">ëª¨ë‘ í™•ì¸ í›„ ì²´í¬</label>
  </div>
</div>
</div>

<!-- CHAT -->
<button class="cf" onclick="A.chat()"><i class="fa-solid fa-comment-dots"></i></button>
<div class="cw" id="chatW">
  <div class="cw-h"><span>ğŸ¸ ì²­ê°œêµ¬ë¦¬ ìƒë‹´</span><button class="cw-hc" onclick="A.chat()"><i class="fa-solid fa-xmark"></i></button></div>
  <div class="cw-bd" id="chatB"><div class="bb bt">ì•ˆë…•í•˜ì„¸ìš”! ì²­ê°œêµ¬ë¦¬ ìƒ¤ì‹œì…ë‹ˆë‹¤. ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?</div></div>
  <div class="cw-q" style="grid-template-columns:1fr 1fr;gap:4px">
    <button class="qb" onclick="A.ask('cost')">ğŸ’° ë¹„ìš© ì•ˆë‚´</button>
    <button class="qb" onclick="A.ask('value')">ğŸ’¡ í•©ë¦¬ì  ê°€ê²© ë¹„ê²°</button>
    <button class="qb" onclick="A.ask('defect')">ğŸ› ï¸ ì¤‘ëŒ€í•˜ìë€?</button>
    <button class="qb" onclick="A.ask('booking')">ğŸ“… ì˜ˆì•½ ë°©ë²•</button>
    <button class="qb" onclick="A.ask('time')">â±ï¸ ì†Œìš”ì‹œê°„</button>
    <button class="qb" onclick="A.ask('after')">ğŸ“‹ ì ê²€ í›„ ì ˆì°¨</button>
    <button class="qb" onclick="A.ask('diff')">ğŸ” AI vs ìœ ë£Œ ì°¨ì´</button>
    <button class="qb" onclick="A.ask('cancel')">ğŸ’³ ì·¨ì†Œ/í™˜ë¶ˆ</button>
  </div>
</div>

<script type="importmap">{"imports":{"@google/generative-ai":"https://esm.run/@google/generative-ai"}}</script>
<script type="module">
import{GoogleGenerativeAI}from"@google/generative-ai";

const K=["AIzaSyDNo_QhI","qoOyuyXywUYye","tipbf4RstINn8"].join('');
const LIMIT=100;
let list=[], wF=null, cF=null, devN=0, devT, mode='free';
window.A={};

// ê³µì¢…â†’ì„¸ë¶€â†’ìœ í˜• ì‹¤ë°ì´í„° ë§¤í•‘ (ë™íƒ„60+ì–‘ì£¼ 106,376ê±´ ê¸°ë°˜)
const WM={"ë„ë°°ê³µì‚¬":{"ë„ë°°":["ë“¤ëœ¸","ë§ˆê°ë¶ˆëŸ‰","í ì§‘/ì°í˜","ë©´ë¶ˆëŸ‰","ì˜¤ì—¼","ì´ìŒë¶ˆëŸ‰","í ì§‘","ë¯¸ì‹œê³µ","íŒŒì†","ì´ìƒ‰/ë³€ìƒ‰"]},"íƒ€ì¼ê³µì‚¬":{"íƒ€ì¼":["ì¤„ëˆˆë¶ˆëŸ‰","í‹ˆìƒˆ","êµ¬ë°°ë¶ˆëŸ‰","ë‹¨ì°¨","ë“¤ëœ¸","ë¯¸ì‹œê³µ","íŒŒì†","ë§ˆê°ë¶ˆëŸ‰","ì˜¤ì—¼","í ì§‘/ì°í˜"],"í´ë¦¬ì‹±íƒ€ì¼":["íŒŒì†","ë“¤ëœ¸","ì¤„ëˆˆë¶ˆëŸ‰","ë‹¨ì°¨","í‹ˆìƒˆ","ì˜¤ì—¼","ë§ˆê°ë¶ˆëŸ‰"],"ì•„íŠ¸ì›”íƒ€ì¼":["í‹ˆìƒˆ","íŒŒì†","ë§ˆê°ë¶ˆëŸ‰","ë‹¨ì°¨","í ì§‘/ì°í˜","ë¯¸ì‹œê³µ","ë“¤ëœ¸"],"íƒ€ì¼ì½”í‚¹":["ì½”í‚¹ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","í‹ˆìƒˆ","í ì§‘/ì°í˜","ë§ˆê°ë¶ˆëŸ‰"],"ë§ˆë¸”ì”°":["ë“¤ëœ¸","í‹ˆìƒˆ","ë‹¨ì°¨","ë¯¸ì‹œê³µ","í ì§‘/ì°í˜"]},"PLì°½í˜¸ê³µì‚¬":{"PLì°½í˜¸":["ê³ ì •ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","í ì§‘/ì°í˜","ê°œíë¶ˆëŸ‰","íŒŒì†","í‹ˆìƒˆ"],"ë¶„í•©ì°½":["ë¯¸ì‹œê³µ","í ì§‘/ì°í˜","ê³ ì •ë¶ˆëŸ‰","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","ê°œíë¶ˆëŸ‰","íŒŒì†"],"í„°ë‹ë„ì–´":["ë¯¸ì‹œê³µ","ê°œíë¶ˆëŸ‰","í ì§‘/ì°í˜","ê³ ì •ë¶ˆëŸ‰","í‹ˆìƒˆ","íŒŒì†"],"ëŒ€í”¼ì°½":["ê°œíë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰","ì½”í‚¹ë¶ˆëŸ‰","ë¯¸ì‹œê³µ"],"PLë°©ì¶©ë§":["ê°œíë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","íŒŒì†"]},"ì£¼ë°©ê°€êµ¬ê³µì‚¬":{"ì£¼ë°©ìƒ/í•˜ë¶€ì¥":["ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ê°œíë¶ˆëŸ‰","í ì§‘/ì°í˜","ë§ˆê°ë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰","í‹ˆìƒˆ"],"ì•„ì¼ëœë“œì¥":["ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","ê°œíë¶ˆëŸ‰","ë¯¸ì‹œê³µ","í ì§‘/ì°í˜","ë§ˆê°ë¶ˆëŸ‰","í‹ˆìƒˆ"],"ëƒ‰ì¥ê³ ì¥":["í ì§‘/ì°í˜","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","í‹ˆìƒˆ","ë¯¸ì‹œê³µ","ë§ˆê°ë¶ˆëŸ‰"],"ê³ ê¸‰ì¥ì‹ì¥":["ê°œíë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","í‹ˆìƒˆ","ë¯¸ì‹œê³µ"],"ì”½í¬ë³¼":["ë¯¸ì‹œê³µ","ë§ˆê°ë¶ˆëŸ‰","í‹ˆìƒˆ","ê³ ì •ë¶ˆëŸ‰"]},"ì¼ë°˜ê°€êµ¬ê³µì‚¬":{"ì‹ ë°œì¥":["í ì§‘/ì°í˜","ë¯¸ì‹œê³µ","í‹ˆìƒˆ","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","ë§ˆê°ë¶ˆëŸ‰","ê°œíë¶ˆëŸ‰"],"ë¶™ë°•ì´ì¥":["í ì§‘/ì°í˜","ë¯¸ì‹œê³µ","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","ê°œíë¶ˆëŸ‰","í‹ˆìƒˆ","ë§ˆê°ë¶ˆëŸ‰"],"í™”ì¥ëŒ€":["ë¯¸ì‹œê³µ","í ì§‘/ì°í˜","ë§ˆê°ë¶ˆëŸ‰","í‹ˆìƒˆ","ê°œíë¶ˆëŸ‰","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰"],"í˜„ê´€íŒ¬íŠ¸ë¦¬ë„ì–´/í‹€":["í ì§‘/ì°í˜","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","í‹ˆìƒˆ","ë¯¸ì‹œê³µ","ë§ˆê°ë¶ˆëŸ‰"],"ë³µë„íŒ¬íŠ¸ë¦¬ë„ì–´/í‹€":["í ì§‘/ì°í˜","í‹ˆìƒˆ","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","ë§ˆê°ë¶ˆëŸ‰","ë¯¸ì‹œê³µ"],"ì•„íŠ¸ì›”íŒë„¬":["í‹ˆìƒˆ","ë§ˆê°ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","í ì§‘/ì°í˜","íŒŒì†"],"ë“œë ˆìŠ¤ë£¸ë„ì–´/í‹€":["í ì§‘/ì°í˜","í‹ˆìƒˆ","ë§ˆê°ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰"]},"ë§ˆë£¨ê³µì‚¬":{"ê°•ë§ˆë£¨":["ë“¤ëœ¸","í‹ˆìƒˆ","ì˜¤ì—¼","ë‹¨ì°¨","íŒŒì†","ë§ˆê°ë¶ˆëŸ‰","ë¯¸ì‹œê³µ"],"ë§ˆë£¨ì½”í‚¹":["ì½”í‚¹ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ë“¤ëœ¸","í‹ˆìƒˆ","ì˜¤ì—¼"],"ê±¸ë ˆë°›ì´":["í‹ˆìƒˆ","íŒŒì†","ë§ˆê°ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ë“¤ëœ¸","ë‹¨ì°¨"]},"ëª©ì°½í˜¸ê³µì‚¬":{"ëª©ë¬¸í‹€":["í ì§‘/ì°í˜","í‹ˆìƒˆ","ë¯¸ì‹œê³µ","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰","ë§ˆê°ë¶ˆëŸ‰"],"ëª©ë¬¸ì§":["ê°œíë¶ˆëŸ‰","í ì§‘/ì°í˜","ê³ ì •ë¶ˆëŸ‰","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","í‹ˆìƒˆ","ë§ˆê°ë¶ˆëŸ‰"],"ê³µí‹€":["í‹ˆìƒˆ","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","ì˜¤ì—¼","ë¯¸ì‹œê³µ"]},"ë„ì¥ê³µì‚¬":{"ë„ì¥":["ë§ˆê°ë¶ˆëŸ‰","ë©´ë¶ˆëŸ‰","ë„ì¥ë¶ˆëŸ‰","ê· ì—´","ì˜¤ì—¼","ë¯¸ì‹œê³µ","ë“¤ëœ¸"],"í˜„ê´€ë¬¸í‹€ë„ì¥":["ë„ì¥ë¶ˆëŸ‰","ë§ˆê°ë¶ˆëŸ‰","ì˜¤ì—¼","ë©´ë¶ˆëŸ‰","ê· ì—´"],"ì™¸ë²½ë„ì¥":["ë©´ë¶ˆëŸ‰","ë§ˆê°ë¶ˆëŸ‰","ê· ì—´","ë„ì¥ë¶ˆëŸ‰","ì˜¤ì—¼"]},"ì¤€ê³µì²­ì†Œê³µì‚¬":{"ì¤€ê³µì²­ì†Œ":["ì˜¤ì—¼"]},"ì½”í‚¹ê³µì‚¬":{"ì½”í‚¹":["ì½”í‚¹ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","í‹ˆìƒˆ","ì˜¤ì—¼","ë§ˆê°ë¶ˆëŸ‰"]},"ì¤‘ë¬¸ê³µì‚¬":{"ìŠ¬ë¼ì´ë”©ë„ì–´/í‹€":["ê°œíë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰","ë§ˆê°ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","í‹ˆìƒˆ","í ì§‘/ì°í˜"],"ìŠ¤ìœ™ë„ì–´/í‹€":["ë§ˆê°ë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰","ê°œíë¶ˆëŸ‰","ë¯¸ì‹œê³µ","í ì§‘/ì°í˜","í‹ˆìƒˆ"]},"ê¸°ê³„ì„¤ë¹„ê³µì‚¬":{"ìœ„ìƒë„ê¸°ë¥˜":["ê³ ì •ë¶ˆëŸ‰","ë§ˆê°ë¶ˆëŸ‰","ì‘ë™ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ëˆ„ìˆ˜"],"ìˆ˜ì „ë¥˜":["ê³ ì •ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ì‘ë™ë¶ˆëŸ‰","ë§ˆê°ë¶ˆëŸ‰","ëˆ„ìˆ˜"],"ì„¤ë¹„":["ë§ˆê°ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ì•…ì·¨","ì‘ë™ë¶ˆëŸ‰","ëˆ„ìˆ˜"],"ìš•ì‹¤ì•¡ì„¸ì„œë¦¬":["ê³ ì •ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ë§ˆê°ë¶ˆëŸ‰","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰"],"ë°°ìˆ˜ë“œë ˆì¸":["ë§ˆê°ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ê³ ì •ë¶ˆëŸ‰","ì‘ë™ë¶ˆëŸ‰","ë°°ìˆ˜ë¶ˆëŸ‰"]},"ì „ê¸°ê³µì‚¬":{"ì½˜ì„¼íŠ¸":["ì‘ë™ë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ë“¤ëœ¸"],"ìŠ¤ìœ„ì¹˜":["ì‘ë™ë¶ˆëŸ‰","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰","ë¯¸ì‹œê³µ"],"ë„¤íŠ¸ì›Œí¬ìŠ¤ìœ„ì¹˜":["ì‘ë™ë¶ˆëŸ‰","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰"]},"ë‚´ì¥ëª©ê³µì‚¬":{"ì„ê³ ë³´ë“œ":["ê³ ì •ë¶ˆëŸ‰","ë§ˆê°ë¶ˆëŸ‰","ë“¤ëœ¸","ë‹¨ì°¨","í‹ˆìƒˆ"],"ì²œì •ëª°ë”©":["í‹ˆìƒˆ","í ì§‘/ì°í˜","ë§ˆê°ë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰","ì˜¤ì—¼"]},"ë°©í™”ë¬¸ê³µì‚¬":{"í˜„ê´€ë¬¸":["ë¯¸ì‹œê³µ","ê°œíë¶ˆëŸ‰","í ì§‘/ì°í˜","ê³ ì •ë¶ˆëŸ‰","í‹ˆìƒˆ"],"ëŒ€í”¼ê³µê°„ë°©í™”ë¬¸":["ë¯¸ì‹œê³µ","ê°œíë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰","í ì§‘/ì°í˜","í‹ˆìƒˆ"],"ì‹¤ì™¸ê¸°ì‹¤ë¬¸ì§/í‹€":["ê°œíë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","í‹ˆìƒˆ"]},"ì‹œìŠ¤í…œê°€êµ¬ê³µì‚¬":{"ì‹œìŠ¤í…œê°€êµ¬":["ê³ ì •ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","í‹ˆìƒˆ","ë§ˆê°ë¶ˆëŸ‰"],"ì›”íŒë„¬":["í‹ˆìƒˆ","ë¯¸ì‹œê³µ","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","ë‹¨ì°¨"]},"ì£¼ë°©ìƒíŒê³µì‚¬":{"ì£¼ë°©ìƒíŒ/ì½”í‚¹":["ë¯¸ì‹œê³µ","ì½”í‚¹ë¶ˆëŸ‰","í‹ˆìƒˆ","í ì§‘/ì°í˜","íŒŒì†"],"ì—”ì§€ë‹ˆì–´ë“œìƒíŒ":["ë¯¸ì‹œê³µ","í‹ˆìƒˆ","ë§ˆê°ë¶ˆëŸ‰","ì½”í‚¹ë¶ˆëŸ‰","íŒŒì†"]},"ì¡°ëª…ê³µì‚¬":{"ì„¸ëŒ€ë“±ê¸°êµ¬":["ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","ì‘ë™ë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ì ë“±ë¶ˆëŸ‰"]},"ë‚´ë¶€ì„ê³µì‚¬":{"ì„ì¬ê±¸ë ˆë°›ì´":["í‹ˆìƒˆ","ë¯¸ì‹œê³µ","ë§ˆê°ë¶ˆëŸ‰","ì½”í‚¹ë¶ˆëŸ‰","íŒŒì†"],"ë””ë”¤íŒ":["í‹ˆìƒˆ","ë¯¸ì‹œê³µ","ë‹¨ì°¨","ë§ˆê°ë¶ˆëŸ‰","íŒŒì†"]},"ìš•ì‹¤ì¥ê³µì‚¬":{"ìš•ì‹¤ì¥/ì½”í‚¹":["ë¯¸ì‹œê³µ","ê°œíë¶ˆëŸ‰","ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰","ì½”í‚¹ë¶ˆëŸ‰"]},"ìœ ë¦¬ê³µì‚¬":{"ìœ ë¦¬":["í ì§‘","íŒŒì†","ë¯¸ì‹œê³µ","ì˜¤ì—¼","ì½”í‚¹ë¶ˆëŸ‰"],"ìœ ë¦¬ì½”í‚¹":["ì½”í‚¹ë¶ˆëŸ‰","ë¯¸ì‹œê³µ"]},"ì—ì–´ì»¨ê³µì‚¬":{"ì‹¤ì™¸ê¸°":["ë§ˆê°ë¶ˆëŸ‰","ë¯¸ì‹œê³µ","ì‘ë™ë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰"],"ì‹œìŠ¤í…œì—ì–´ì»¨":["ì‘ë™ë¶ˆëŸ‰","ê³ ì •ë¶ˆëŸ‰","ë§ˆê°ë¶ˆëŸ‰","ëˆ„ìˆ˜"]},"ë£¨ë²„ì°½í˜¸ê³µì‚¬":{"ë£¨ë²„ì°½/ë°©ì¶©ë§":["ë¯¸ì‹œê³µ","ê³ ì •ë¶ˆëŸ‰","ê°œíë¶ˆëŸ‰","í ì§‘/ì°í˜"]},"ì§ì˜ê³µì‚¬":{"ì§ì˜":["ë§ˆê°ë¶ˆëŸ‰","ë“¤ëœ¸","ë¯¸ì‹œê³µ","ëˆ„ìˆ˜","ê³ ì •ë¶ˆëŸ‰","í‹ˆìƒˆ"]}};

const $=id=>document.getElementById(id);

function initWorkSelect(){
  const sel=$('fWork');
  sel.innerHTML='<option value="">ìë™</option>';
  for(const w of Object.keys(WM)){
    const o=document.createElement('option');o.value=w;o.textContent=w;sel.appendChild(o);
  }
}
A.onWork=()=>{
  const w=$('fWork').value, sub=$('fSub');
  sub.innerHTML='<option value="">ìë™</option>';
  $('fType').innerHTML='<option value="">ìë™</option>';
  if(w&&WM[w]){ for(const s of Object.keys(WM[w])){ const o=document.createElement('option');o.value=s;o.textContent=s;sub.appendChild(o); }}
};
A.onSub=()=>{
  const w=$('fWork').value, s=$('fSub').value, tp=$('fType');
  tp.innerHTML='<option value="">ìë™</option>';
  if(w&&s&&WM[w]&&WM[w][s]){ for(const t of WM[w][s]){ const o=document.createElement('option');o.value=t;o.textContent=t;tp.appendChild(o); }}
};

window.addEventListener('DOMContentLoaded',()=>{
  if(ls('is_dev')==='true')$('verTag').classList.add('dev');
  if(ls('frog_agreed')==='true'){
    $('fAgree').checked=true;
    $('agreeNote').style.display='block';
    A.togSave();
  }
  initWorkSelect();
  loadList();
  step(1);
});

function ls(k,v){if(v===undefined)return localStorage.getItem(k);localStorage.setItem(k,v)}

function step(c){
  for(let i=1;i<=4;i++){
    const n=$(`s${i}`),l=$(`l${i}`);
    n.classList.remove('on','ok');
    if(l)l.classList.remove('ok');
    if(i<c){n.classList.add('ok');n.innerHTML='<i class="fa-solid fa-check" style="font-size:.65rem"></i>';if(l)l.classList.add('ok')}
    else if(i===c){n.classList.add('on');n.textContent=i}
    else n.textContent=i;
  }
}

function stat(m,e){$('sMsg').textContent=m;$('sDot').classList.toggle('err',!!e)}

// ===== Custom Room Selector =====
A.toggleRoom=()=>{
  const grid=$('cdGrid'), btn=$('cdBtn');
  const isOpen=grid.classList.contains('show');
  if(isOpen){
    grid.classList.remove('show');
    btn.classList.remove('open');
  }else{
    grid.classList.add('show');
    btn.classList.add('open');
  }
};
A.pickRoom=(el)=>{
  const val=el.dataset.val;
  $('fRoom').value=val;
  const label=$('cdLabel');
  label.textContent='âœ” '+val;
  label.classList.remove('cd-placeholder');
  label.style.color='var(--p)';
  label.style.fontWeight='800';
  document.querySelectorAll('.cd-item').forEach(i=>i.classList.remove('selected'));
  el.classList.add('selected');
  setTimeout(()=>{
    $('cdGrid').classList.remove('show');
    $('cdBtn').classList.remove('open');
  },150);
};

// Mode
A.setMode=m=>{
  if(m==='pro'){
    $('ckPro').checked=false;
    $('moPwd').classList.add('show');
    $('pwdInput').value='';
    $('pwdErr').style.display='none';
    setTimeout(()=>$('pwdInput').focus(),200);
    return;
  }
  mode='free';
  $('ckFree').checked=true;
  $('ckPro').checked=false;
  $('mcFree').classList.add('active');
  $('mcPro').classList.remove('active-pro');
};
A.checkPwd=()=>{
  const pw=$('pwdInput').value;
  if(pw==='51600'){
    mode='pro';
    $('ckFree').checked=false;
    $('ckPro').checked=true;
    $('mcFree').classList.remove('active');
    $('mcPro').classList.add('active-pro');
    $('moPwd').classList.remove('show');
    stat('ì „ë¬¸ê°€ ì ê²€ ëª¨ë“œ í™œì„±í™”');
  }else{
    $('pwdErr').style.display='block';
    $('pwdInput').value='';
    $('pwdInput').focus();
  }
};
A.cancelPwd=()=>{
  $('ckPro').checked=false;
  $('moPwd').classList.remove('show');
};

A.devTap=()=>{
  clearTimeout(devT);devN++;
  if(devN===5){
    const d=ls('is_dev')==='true';
    ls('is_dev',!d);
    $('verTag').classList.toggle('dev',!d);
    alert(d?'ê°œë°œì ëª¨ë“œ í•´ì œ':'ğŸ¸ ê°œë°œì ëª¨ë“œ í™œì„±í™”!');
    devN=0;
  }
  devT=setTimeout(()=>devN=0,1000);
};

function chkLim(){
  if(ls('is_dev')==='true')return true;
  const today=new Date().toDateString();
  let d=JSON.parse(ls('frog_use')||'{}');
  if(d.date!==today)d={date:today,count:0};
  if(d.count>=LIMIT){alert(`âš ï¸ ì¼ì¼ ë¬´ë£Œ í•œë„(${LIMIT}íšŒ) ì´ˆê³¼`);return false}
  d.count++;ls('frog_use',JSON.stringify(d));return true;
}

$('inW').addEventListener('change',e=>photo(e,'w'));
$('inC').addEventListener('change',e=>photo(e,'c'));

function photo(e,t){
  const f=e.target.files[0];if(!f)return;
  const r=new FileReader();
  r.onload=ev=>{
    if(t==='w'){wF=f;show('pvW',ev.target.result);$('rtW').style.display='block';stat('ê°€ê¹Œì´ ì°ê¸°ë¥¼ ì´¬ì˜í•˜ì„¸ìš”');step(2)}
    else{if(!chkLim()){$('inC').value='';return}cF=f;show('pvC',ev.target.result);$('rtC').style.display='block';step(3);runAI()}
  };r.readAsDataURL(f);
}
function show(id,src){const p=$(id);p.src=src;p.style.display='block'}

async function toPart(f){return new Promise(r=>{const x=new FileReader();x.onloadend=()=>r({inlineData:{data:x.result.split(',')[1],mimeType:f.type}});x.readAsDataURL(f)})}

async function runAI(){
  const det=$('fDetail'), ui=$('fUser').value;
  det.value='ğŸ” AI ì •ë°€ ë¶„ì„ ì¤‘...';
  stat('AI ë¶„ì„ ì¤‘...');
  try{
    const g=new GoogleGenerativeAI(K);
    const m=g.getGenerativeModel({model:"gemini-2.5-flash"});
    const proExtra=mode==='pro'?`\n[ì „ë¬¸ ëª¨ë“œ] ì‹œê³µ ê¸°ì¤€ì„œ, KSê·œê²©, êµ­í† ë¶€ í•˜ìíŒì • ê¸°ì¤€ì„ ìƒì„¸íˆ ì¸ìš©í•˜ì—¬ ì „ë¬¸ ë³´ê³ ì„œ ìˆ˜ì¤€ìœ¼ë¡œ ì‘ì„±í•˜ì„¸ìš”.`:'';
    const workList=Object.keys(WM).map(w=>`${w}(${Object.keys(WM[w]).join(',')})`).join('; ');
    const prompt=`ì…ì£¼ì ì‚¬ì „ì ê²€ AIì…ë‹ˆë‹¤.
ì‚¬ì§„1(Wide):ê³µì¢… íŒŒì•…. ì‚¬ì§„2(Close):í•˜ììœ í˜• ë° ìƒì„¸ë‚´ìš© íŒŒì•….

**[ì‚¬ìš©ì ì…ë ¥]: "${ui}"**
(ì´ ì •ë³´ê°€ ìˆìœ¼ë©´ ìµœìš°ì„  ë°˜ì˜í•˜ì„¸ìš”.)${proExtra}

[ë¶„ë¥˜ì²´ê³„ - ë°˜ë“œì‹œ ì•„ë˜ ê³µì¢…/ì„¸ë¶€ê³µì¢…ëª…ì„ ì‚¬ìš©]
${workList}

[ìœ í˜• í‘œì¤€]: ë“¤ëœ¸, ë§ˆê°ë¶ˆëŸ‰, í ì§‘/ì°í˜, ë©´ë¶ˆëŸ‰, ì˜¤ì—¼, ë¯¸ì‹œê³µ, íŒŒì†, í‹ˆìƒˆ, ì½”í‚¹ë¶ˆëŸ‰, ìˆ˜ì§ìˆ˜í‰ë¶ˆëŸ‰, ê°œíë¶ˆëŸ‰, ê³ ì •ë¶ˆëŸ‰, ì‘ë™ë¶ˆëŸ‰, ì¤„ëˆˆë¶ˆëŸ‰, ë‹¨ì°¨, êµ¬ë°°ë¶ˆëŸ‰, ì´ìƒ‰/ë³€ìƒ‰, ëˆ„ìˆ˜, ê· ì—´, ë„ì¥ë¶ˆëŸ‰, ì´ìŒë¶ˆëŸ‰, ë°°ìˆ˜ë¶ˆëŸ‰, ì ë“±ë¶ˆëŸ‰, ì•…ì·¨

[íŒë‹¨ê¸°ì¤€]
- í•˜ì íŒë‹¨ ì‹œ: í˜„ìƒê³¼ ì‚¬ë¡€ë§¤ì¹­ì„ ìƒì„¸ ê¸°ìˆ 
- í•˜ì ì•„ë‹Œ ê²½ìš°: "type"ì— "í—ˆìš©ë²”ìœ„", "detail"ì—:
  1. í˜„ìƒ: [ìƒíƒœê¸°ìˆ ]
  2. âœ… í—ˆìš©ë²”ìœ„ ì•ˆë‚´: [êµ­í† ë¶€ ê¸°ì¤€ ì„¤ëª…]
  3. ğŸ’¡ ì°¸ê³ : í—ˆìš©ë²”ìœ„ ë‚´ì´ë¯€ë¡œ í•˜ì ì ‘ìˆ˜ ëŒ€ìƒ ì•„ë‹˜

[JSONì¶œë ¥ - work/sub/typeì€ ë°˜ë“œì‹œ ìœ„ ë¶„ë¥˜ì²´ê³„ ê°’ ì‚¬ìš©]
{"work":"ê³µì¢…ëª…","sub":"ì„¸ë¶€ê³µì¢…","type":"í•˜ììœ í˜• ë˜ëŠ” í—ˆìš©ë²”ìœ„","detail":"1. í˜„ìƒ:...\\n2. ì‚¬ë¡€ë§¤ì¹­ ë˜ëŠ” í—ˆìš©ë²”ìœ„ì•ˆë‚´:..."}`;

    const parts=[prompt];
    if(wF)parts.push(await toPart(wF));
    if(cF)parts.push(await toPart(cF));

    const res=await m.generateContent(parts);
    const txt=res.response.text();
    let d={};
    try{const c=txt.replace(/```json/g,'').replace(/```/g,'').trim();const mt=c.match(/\{[\s\S]*\}/);d=mt?JSON.parse(mt[0]):{}}
    catch{d={detail:'íŒŒì‹± ì‹¤íŒ¨. ì§ì ‘ ì…ë ¥í•´ì£¼ì„¸ìš”.',work:'ê¸°íƒ€',sub:'',type:'í™•ì¸í•„ìš”'}}

    const aiWork=d.work||'', aiSub=d.sub||'', aiType=d.type||'';
    if(aiWork&&!WM[aiWork]){ const o=document.createElement('option');o.value=aiWork;o.textContent=aiWork;$('fWork').appendChild(o); }
    $('fWork').value=aiWork;
    A.onWork();
    if(aiSub){ if(!$('fSub').querySelector(`option[value="${aiSub}"]`)){ const o=document.createElement('option');o.value=aiSub;o.textContent=aiSub;$('fSub').appendChild(o); } $('fSub').value=aiSub; A.onSub(); }
    if(aiType){ if(!$('fType').querySelector(`option[value="${aiType}"]`)){ const o=document.createElement('option');o.value=aiType;o.textContent=aiType;$('fType').appendChild(o); } $('fType').value=aiType; }
    det.value=(d.detail||'')+'\n\n(â€» AI ë¶„ì„ ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì…ë‹ˆë‹¤.)';
    stat('ë¶„ì„ ì™„ë£Œ! í™•ì¸ í›„ ë™ì˜í•´ì£¼ì„¸ìš”.');
  }catch(err){
    console.error(err);stat('ë¶„ì„ ì‹¤íŒ¨',true);det.value='ì¼ì‹œì  ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
  }
}

A.togSave=()=>{
  const ok=$('fAgree').checked;
  if(ok){ls('frog_agreed','true');$('agreeNote').style.display='block'}
  $('btnSv').disabled=!ok;$('btnSv').className=ok?'btn-sv ok':'btn-sv off';
};

A.save=()=>{
  if(!$('fAgree').checked)return;
  const cs=$('pvC').src;
  if(!cF&&(!cs||!cs.startsWith('data:'))){alert('ì‚¬ì§„(ê°€ê¹Œì´ ì°ê¸°)ì´ í•„ìš”í•©ë‹ˆë‹¤.');return}

  const addr=$('fAddr').value, apt=$('fApt').value||'ì£¼ì†Œì°¸ì¡°', dong=$('fDong').value, ho=$('fHo').value;
  const info=`${addr} (${apt} ${dong}ë™ ${ho}í˜¸)`;
  $('lInfo').textContent=info;$('ptitle').textContent=info+' ì‚¬ì „ì ê²€ ë¦¬í¬íŠ¸';

  const ws=$('pvW').src;
  const item={
    id:Date.now(), room:$('fRoom').value||'ìœ„ì¹˜ë¯¸ì§€ì •',
    work:$('fWork').value, sub:$('fSub').value, type:$('fType').value,
    detail:$('fDetail').value, mode,
    wImg:(ws&&ws.startsWith('data:'))?ws:null, cImg:cs
  };
  list.push(item);
  renderItem(item);
  updateModeLabel();
  saveList();
  reset();
  stat('ì €ì¥ ì™„ë£Œ! ë‹¤ìŒ í•­ëª©ì„ ì´¬ì˜í•˜ì„¸ìš”.');
  document.querySelector('.lh').scrollIntoView({behavior:'smooth'});
  setTimeout(()=>step(1),1500);
};

function renderItem(it){
  const isSafe=it.type==='í—ˆìš©ë²”ìœ„';
  const modeLabel=it.mode==='pro'?'<span style="font-size:.62rem;background:linear-gradient(135deg,var(--pu),#A78BFA);color:#fff;padding:2px 7px;border-radius:4px;font-weight:700">ì „ë¬¸ê°€ì ê²€</span>':'<span style="font-size:.62rem;background:var(--pg);color:var(--p);padding:2px 7px;border-radius:4px;font-weight:700">ì¼ë°˜ì ê²€</span>';
  const h=`<div class="dc" id="i-${it.id}">
    <div class="dc-hd"><div class="dc-tag"><span class="dc-rm">${it.room}</span><span class="dc-tp${isSafe?' safe':''}">${it.type}</span>${modeLabel}</div>
    <div class="dc-act"><button class="bi ed" onclick="A.edit(${it.id})"><i class="fa-solid fa-pen"></i></button><button class="bi dl" onclick="A.del(${it.id})"><i class="fa-solid fa-trash-can"></i></button></div></div>
    <div class="dc-ph${!it.wImg?' single':''}">${it.wImg?`<img src="${it.wImg}" title="ë©€ë¦¬ì„œ ì°ê¸°">`:''}<img src="${it.cImg}" title="ê°€ê¹Œì´ ì°ê¸°"></div>
    <div class="dc-bd"><div class="dc-wk">${it.work} â†’ ${it.sub}</div><div class="dc-dt">${it.detail}</div></div></div>`;
  $('lBox').insertAdjacentHTML('beforeend',h);
  $('lCnt').textContent=list.length;
}

function updateModeLabel(){
  const el=$('lMode');
  if(!list.length){el.style.display='none';return}
  const hasPro=list.some(i=>i.mode==='pro');
  const hasFree=list.some(i=>i.mode==='free');
  if(hasPro&&hasFree){el.textContent='ì¼ë°˜+ì „ë¬¸ê°€ì ê²€';el.style.background='linear-gradient(135deg,var(--pg),var(--pub))';el.style.color='var(--pu)'}
  else if(hasPro){el.textContent='ì „ë¬¸ê°€ì ê²€';el.style.background='var(--pub)';el.style.color='var(--pu)'}
  else{el.textContent='ì¼ë°˜ì ê²€';el.style.background='var(--pg)';el.style.color='var(--p)'}
  el.style.display='inline-block';
}

function reset(){
  ['inW','inC'].forEach(i=>$(i).value='');wF=null;cF=null;
  ['pvW','pvC'].forEach(i=>{$(i).style.display='none'});
  ['rtW','rtC'].forEach(i=>{$(i).style.display='none'});
  $('fUser').value='';$('fDetail').value='';
  // Reset work/sub/type dropdowns
  $('fWork').value='';A.onWork();
  // Reset custom dropdown
  $('fRoom').value='';
  const label=$('cdLabel');
  label.textContent='ìœ„ì¹˜ ì„ íƒ';
  label.classList.add('cd-placeholder');
  label.style.color='';
  label.style.fontWeight='';
  document.querySelectorAll('.cd-item').forEach(i=>i.classList.remove('selected'));
  if(ls('frog_agreed')!=='true'){
    $('fAgree').checked=false;A.togSave();
  }
  step(4);
}

function saveList(){
  try{
    const data=list.map(it=>({...it,wImg:null,cImg:null}));
    ls('frog_list',JSON.stringify(data));
    const full=JSON.stringify(list);
    ls('frog_list_full',full);
    $('sgTx').textContent=`ì €ì¥ëœ í•­ëª©: ${list.length}ê±´`;
  }catch(e){console.warn('Storage full, saving metadata only')}
}
function loadList(){
  try{
    const full=ls('frog_list_full');
    if(full){list=JSON.parse(full);list.forEach(it=>renderItem(it));updateModeLabel();$('sgTx').textContent=`ì €ì¥ëœ í•­ëª©: ${list.length}ê±´`}
    else{const d=ls('frog_list');if(d){list=JSON.parse(d);list.forEach(it=>renderItem(it));updateModeLabel();$('sgTx').textContent=`ì €ì¥ëœ í•­ëª©: ${list.length}ê±´`}}
  }catch(e){list=[]}
}

A.edit=id=>{
  const idx=list.findIndex(i=>i.id===id);if(idx===-1)return;
  if(!confirm('ìˆ˜ì • ëª¨ë“œë¡œ ë¶ˆëŸ¬ì˜¤ì‹œê² ìŠµë‹ˆê¹Œ?'))return;
  const it=list[idx];
  // Set custom dropdown
  $('fRoom').value=it.room;
  const label=$('cdLabel');
  label.textContent='âœ” '+it.room;
  label.classList.remove('cd-placeholder');
  label.style.color='var(--p)';
  label.style.fontWeight='800';
  document.querySelectorAll('.cd-item').forEach(i=>{
    i.classList.toggle('selected',i.dataset.val===it.room);
  });
  $('fWork').value=it.work;$('fDetail').value=it.detail;
  if(it.wImg)show('pvW',it.wImg);
  if(it.cImg)show('pvC',it.cImg);
  $(`i-${id}`).remove();list.splice(idx,1);$('lCnt').textContent=list.length;saveList();
  window.scrollTo(0,0);
};
A.del=id=>{
  if(!confirm('ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?'))return;
  $(`i-${id}`).remove();list=list.filter(i=>i.id!==id);$('lCnt').textContent=list.length;updateModeLabel();saveList();
};
A.clearAll=()=>{
  if(!list.length)return;if(!confirm(`${list.length}ê±´ ì „ì²´ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`))return;
  list=[];$('lBox').innerHTML='';$('lCnt').textContent=0;updateModeLabel();saveList();
};

A.pdf=()=>{if(!list.length){alert('ì €ì¥í•  ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.');return}window.print()};

A.modal=(n,s)=>{
  const el=$(n==='paid'?'moPaid':'moHelp');
  el.classList.toggle('show',!!s);
  if(n==='help'&&s)$('hpCk').checked=false;
};

A.chat=()=>{$('chatW').classList.toggle('show')};
const ans={
  cost:{q:'ì ê²€ ë¹„ìš©ì´ ê¶ê¸ˆí•´ìš”.',a:'ğŸ’° <b>ì ê²€ ë¹„ìš© ì•ˆë‚´</b><br>29í‰ ì´í•˜: 13ë§Œì›<br>30í‰ ì´ìƒ: 15ë§Œì›<br>50í‰ ì´ìƒ: 20ë§Œì›<br><br>â€» ìˆ˜ë„ê¶Œ ì™¸ ì¶”ê°€ ì¶œì¥ë¹„ ë°œìƒ ê°€ëŠ¥'},
  value:{q:'í•©ë¦¬ì  ê°€ê²©ì˜ ë¹„ê²°ì€?',a:'ğŸ’¡ <b>í•©ë¦¬ì  ê°€ê²©ì˜ ë¹„ê²°</b><br>1. AI ê¸°ìˆ  ë„ì…ìœ¼ë¡œ ë¶„ì„ ì‹œê°„ ë‹¨ì¶•<br>2. ë¶ˆí•„ìš”í•œ ê²€ì‚¬ ë°°ì œ, í•µì‹¬ í•˜ì ì§‘ì¤‘<br>3. ê²€ì‚¬ ì§í›„ 1ë¶„ ë‚´ ë””ì§€í„¸ ë¦¬í¬íŠ¸ ì „ì†¡<br><br>ê¸°ìˆ ë ¥ìœ¼ë¡œ ë¹„ìš©ì€ ë‚®ì¶”ê³  í’ˆì§ˆì€ ë†’ì¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.'},
  defect:{q:'ì¤‘ëŒ€í•˜ìê°€ ë­”ê°€ìš”?',a:'ğŸ› ï¸ <b>ì¤‘ëŒ€í•˜ì ì§‘ì¤‘ ì ê²€</b><br>ì œì‘ë¶ˆëŸ‰, ì‹œê³µë¶ˆëŸ‰, ê²°ë¡œ, ì™¸í’ì„ ì¤‘ì  ê²€ì‚¬í•©ë‹ˆë‹¤.<br><br>ë‹¨ìˆœ ì˜¤ì—¼Â·í ì§‘ë³´ë‹¤ <b>ìƒí™œì— ì§ì ‘ì  ì˜í–¥</b>ì„ ì£¼ëŠ” ì¤‘ëŒ€ í•˜ìë¥¼ ìš°ì„  ë°œê²¬í•©ë‹ˆë‹¤.'},
  booking:{q:'ì˜ˆì•½ì€ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?',a:'ğŸ“… <b>ì˜ˆì•½ ë°©ë²•</b><br>1. í•˜ë‹¨ ìœ ë£Œì˜ˆì•½ ë²„íŠ¼ í´ë¦­<br>2. ì‹ ì²­ì„œ ì‘ì„± ë° ì…ê¸ˆ<br>3. 010-2322-0949ë¡œ ë¬¸ì<br><br>í™•ì¸ í›„ í™•ì • ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤!'},
  time:{q:'ì ê²€ ì‹œê°„ì€ ì–¼ë§ˆë‚˜ ê±¸ë ¤ìš”?',a:'â±ï¸ <b>ì ê²€ ì†Œìš”ì‹œê°„</b><br>20í‰ ê¸°ì¤€: ì•½ 1ì‹œê°„30ë¶„~2ì‹œê°„<br>30í‰ ì´ìƒ: ì•½ 2ì‹œê°„~3ì‹œê°„<br><br>ê¼¼ê¼¼í•˜ê²Œ ì§„í–‰í•˜ë˜ ì…ì£¼ ì¼ì •ì— ë§ì¶° íš¨ìœ¨ì ìœ¼ë¡œ ì™„ë£Œí•©ë‹ˆë‹¤.'},
  after:{q:'ì ê²€ í›„ í•˜ì ë°œê²¬í•˜ë©´?',a:'ğŸ“‹ <b>ì ê²€ í›„ ì ˆì°¨</b><br>1. í˜„ì¥ì—ì„œ ê³ ê°ì—ê²Œ PDFíŒŒì¼ ì „ì†¡<br>2. ê³ ê°ì˜ í°ì—ì„œ ì €ì¥ëœ íŒŒì¼ í•˜ìê´€ë¦¬<br>3. ë³´ìˆ˜ ì™„ë£Œ í›„ ì¬ì ê²€ ê°€ëŠ¥ (ë³„ë„ ë¹„ìš©)<br><br>ë¦¬í¬íŠ¸ê°€ ê³µì‹ ë³´ìˆ˜ ìš”ì²­ ê·¼ê±° ìë£Œë¡œ í™œìš©ë©ë‹ˆë‹¤.'},
  diff:{q:'AI ì ê²€ vs ìœ ë£Œ ì ê²€ ì°¨ì´?',a:'ğŸ” <b>ì„œë¹„ìŠ¤ ë¹„êµ</b><br><b>ë¬´ë£Œ AI ì ê²€:</b> ì‚¬ì§„ ê¸°ë°˜ AI ë¶„ì„, ê°„í¸ í•˜ì íŒë³„<br><b>ìœ ë£Œ ì „ë¬¸ê°€ ì ê²€:</b> í˜„ì¥ ë°©ë¬¸ + ì „ë¬¸ ì¥ë¹„ ì¸¡ì • + ë²•ì  ê¸°ì¤€ ë¦¬í¬íŠ¸<br><br>AIë¡œ ë¨¼ì € í™•ì¸ â†’ í•„ìš” ì‹œ ì „ë¬¸ê°€ ì ê²€ ì¶”ì²œ!'},
  cancel:{q:'ì˜ˆì•½ ì·¨ì†Œ/í™˜ë¶ˆ ê·œì •ì€?',a:'ğŸ’³ <b>ì·¨ì†Œ ë° í™˜ë¶ˆ ì•ˆë‚´</b><br>ë°©ë¬¸ <b>7ì¼ ì „</b> ì·¨ì†Œ: 100% í™˜ë¶ˆ<br>7ì¼ ì´ë‚´ ì·¨ì†Œ: í™˜ë¶ˆ ë¶ˆê°€<br><br>ì¼ì • ë³€ê²½ì€ ì‚¬ì „ í˜‘ì˜ ì‹œ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br>ğŸ“ 010-2322-0949'}
};
A.ask=t=>{
  const b=$('chatB'),{q,a}=ans[t];
  b.innerHTML+=`<div class="bb us">${q}</div>`;
  setTimeout(()=>{b.innerHTML+=`<div class="bb bt">${a}</div>`;b.scrollTop=b.scrollHeight},300);
};
</script>
</body>
</html>



